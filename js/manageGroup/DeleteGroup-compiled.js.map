{"version":3,"sources":["DeleteGroup.js"],"names":[],"mappings":"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","file":"DeleteGroup-compiled.js","sourcesContent":["'use strict';\r\nclass DeleteGroup {\r\n\r\n    constructor (urlArray) {\r\n        this.deleteUrl = urlArray[0];\r\n        this.deleteAction = false;\r\n        this.defineElements();\r\n        this.attachEvents();\r\n    }\r\n\r\n    defineElements () {\r\n        this.buttonDelete = document.querySelector('.delete-group');\r\n        this.checkDeleteBox = document.querySelector('.check-delete');\r\n        this.classButton = 'btn';\r\n        this.classDefault = 'btn-default';\r\n        this.id = document.querySelector('.gear-img').dataset.groupId;\r\n    }\r\n\r\n    attachEvents () {\r\n        this.buttonDelete.addEventListener('click', () => {\r\n            this.checkDelete();\r\n        });\r\n    }\r\n\r\n    checkDelete () {\r\n        let checkDeleteBox = this.checkDeleteBox,\r\n            confirmDeletion = document.createElement('button'),\r\n            cancelDeletion = document.createElement('button'),\r\n            text = document.createElement('p'),\r\n            name = document.querySelector('.trash-img').dataset.groupName,\r\n            id = document.querySelector('.trash-img').dataset.groupId;\r\n        if(id && this.deleteAction === false){\r\n            this.deleteAction = true;\r\n            checkDeleteBox.style.display = \"block\";\r\n            confirmDeletion.classList.add(this.classButton);\r\n            confirmDeletion.classList.add(this.classDefault);\r\n            cancelDeletion.classList.add(this.classButton);\r\n            cancelDeletion.classList.add(this.classDefault);\r\n            text.innerHTML = 'Do you really want to delete group ' + name + ' ?';\r\n            confirmDeletion.innerHTML = 'Yes';\r\n            cancelDeletion.innerHTML = 'No';\r\n            confirmDeletion.addEventListener('click', () =>{\r\n                this.deleteGroup(id);\r\n            });\r\n            cancelDeletion.addEventListener('click', () =>{\r\n                this.cancelDelete();\r\n            });\r\n            checkDeleteBox.appendChild(text);\r\n            checkDeleteBox.appendChild(confirmDeletion);\r\n            checkDeleteBox.appendChild(cancelDeletion);\r\n        }\r\n    }\r\n\r\n    deleteGroup (id) {\r\n        this.deleteAction = false;\r\n        this._sendData(id);\r\n        this.clearDeleteBox();\r\n    }\r\n\r\n    cancelDelete () {\r\n        this.deleteAction = false;\r\n        this.clearDeleteBox();\r\n    }\r\n\r\n    clearDeleteBox() {\r\n        while (this.checkDeleteBox.firstChild) {\r\n            this.checkDeleteBox.removeChild(this.checkDeleteBox.firstChild);\r\n        }\r\n    }\r\n\r\n    _sendData (data) {\r\n        let xmlhttp,\r\n            id = document.querySelector('.trash-img').dataset.groupId;\r\n\r\n        if (window.XMLHttpRequest) {\r\n            xmlhttp = new XMLHttpRequest();\r\n        } else {\r\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n        }\r\n\r\n        xmlhttp.open(\"POST\", this.deleteUrl + '/'+id, false);\r\n        xmlhttp.send(data);\r\n\r\n        location.reload();\r\n    }\r\n\r\n}\r\n"]}